<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>🌸 My Cute To-Do List 🌈</title>
<style>
  body {
    font-family: 'Comic Sans MS', 'Segoe UI Emoji', cursive;
    background: linear-gradient(135deg, #ffe4f0, #e0f7ff);
    margin: 0;
    padding: 0;
    display: flex;
    min-height: 100vh;
    overflow-x: hidden;
  }
  /* Floating animations */
  .floating {
    position: fixed;
    font-size: 18px;
    background: rgba(255,255,255,0.8);
    padding: 4px 8px;
    border-radius: 12px;
    animation: floatUp 6s linear forwards;
    opacity: 0.9;
    pointer-events: none;
    z-index: 999;
    white-space: nowrap;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }
  @keyframes floatUp {
    0% { transform: translateY(100vh) scale(0.8); opacity: 0; }
    10% { opacity: 1; }
    50% { transform: translateY(50vh) scale(1); opacity: 0.9; }
    90% { opacity: 1; }
    100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
  }
  /* Sidebar */
  #categories {
    background: #fff0fa;
    padding: 15px;
    width: 180px;
    border-right: 4px dotted #ffb3d9;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  #categories h2 {
    font-size: 18px;
    margin: 0 0 5px;
    text-align: center;
  }
  .category-btn {
    background: #ffd6eb;
    border: none;
    padding: 8px;
    border-radius: 15px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s;
  }
  .category-btn:hover {
    background: #ffaad4;
    transform: scale(1.05);
  }
  /* Main content */
  #main {
    flex: 1;
    padding: 15px;
  }
  h1 {
    text-align: center;
    font-size: 26px;
    margin-bottom: 15px;
  }
  .task {
    display: flex;
    justify-content: space-between;
    padding: 10px;
    margin: 5px 0;
    border-radius: 12px;
    background: white;
    box-shadow: 2px 2px 6px rgba(0,0,0,0.05);
    align-items: center;
    transition: transform 0.2s;
  }
  .task:hover {
    transform: scale(1.02);
  }
  .high { border-left: 6px solid #ff5c8d; }
  .medium { border-left: 6px solid #ffcc5c; }
  .low { border-left: 6px solid #77dd77; }
  /* Form */
  input, select, button {
    padding: 8px;
    font-size: 14px;
    border-radius: 10px;
    border: 1px solid #ccc;
    margin-right: 5px;
  }
  button.add {
    background: #a29bfe;
    color: white;
    border: none;
    cursor: pointer;
  }
  button.add:hover {
    background: #6c5ce7;
  }
  button.delete {
    background: #ff7675;
    border: none;
    color: white;
    border-radius: 50%;
    width: 28px;
    height: 28px;
    cursor: pointer;
    font-size: 14px;
  }
</style>
</head>
<body>

<div id="categories">
  <h2>📂 Categories</h2>
  <button class="category-btn" onclick="filterTasks('all')">🌟 Show All</button>
  <div id="categoryList"></div>
</div>

<div id="main">
  <h1>🌸 My Cute To-Do List 🌈</h1>
  <div style="text-align:center; margin-bottom:10px;">
    <input id="taskInput" type="text" placeholder="✏️ Task">
    <input id="categoryInput" type="text" placeholder="📂 Category">
    <select id="priorityInput">
      <option value="high">🔥 High</option>
      <option value="medium">💛 Medium</option>
      <option value="low">🍃 Low</option>
    </select>
    <button class="add" onclick="addTask()">➕ Add</button>
  </div>
  <div id="taskList"></div>
</div>

<script>
  let tasks = JSON.parse(localStorage.getItem("tasks") || "[]");
  let currentFilter = 'all';

  const phrases = [
    "✨ You got this!",
    "💪 Keep going!",
    "🌟 Shine bright!",
    "🔥 Smash that task!",
    "🍀 Lucky day!",
    "💖 Proud of you!",
    "🌈 You’re amazing!"
  ];

  renderTasks();
  renderCategories();

  function addTask() {
    let text = document.getElementById("taskInput").value.trim();
    let category = document.getElementById("categoryInput").value.trim();
    let priority = document.getElementById("priorityInput").value;
    if (text) {
      tasks.push({ text, category, priority });
      saveTasks();
      document.getElementById("taskInput").value = "";
      document.getElementById("categoryInput").value = "";
      renderTasks();
      renderCategories();
      createFloatingMessage(); // celebration
    }
  }

  function removeTask(index) {
    tasks.splice(index, 1);
    saveTasks();
    renderTasks();
    renderCategories();
  }

  function saveTasks() {
    localStorage.setItem("tasks", JSON.stringify(tasks));
  }

  function renderTasks() {
    let list = document.getElementById("taskList");
    list.innerHTML = "";
    let sorted = [...tasks].sort((a, b) => {
      let order = { high: 1, medium: 2, low: 3 };
      return order[a.priority] - order[b.priority];
    });
    sorted.forEach((task, i) => {
      if (currentFilter !== 'all' && task.category !== currentFilter) return;
      let div = document.createElement("div");
      div.className = `task ${task.priority}`;
      div.innerHTML = `<div>
        ${priorityEmoji(task.priority)} <strong>${task.text}</strong> <em>(${task.category || "No category"})</em>
      </div>
      <button class="delete" onclick="removeTask(${tasks.indexOf(task)})">❌</button>`;
      list.appendChild(div);
    });
  }

  function renderCategories() {
    let cats = [...new Set(tasks.map(t => t.category).filter(Boolean))];
    let container = document.getElementById("categoryList");
    container.innerHTML = "";
    cats.forEach(cat => {
      let btn = document.createElement("button");
      btn.className = "category-btn";
      btn.textContent = `📂 ${cat}`;
      btn.onclick = () => filterTasks(cat);
      container.appendChild(btn);
    });
  }

  function filterTasks(category) {
    currentFilter = category;
    renderTasks();
  }

  function priorityEmoji(p) {
    return p === "high" ? "🔥" : p === "medium" ? "💛" : "🍃";
  }

  function createFloatingMessage() {
    const el = document.createElement("div");
    el.className = "floating";
    const emoji = ["✨","💪","🌟"][Math.floor(Math.random() * 3)];
    const phrase = phrases[Math.floor(Math.random() * phrases.length)];
    el.textContent = `${emoji} ${phrase}`;
    el.style.left = Math.random() * 80 + "vw";
    el.style.animationDuration = (5 + Math.random() * 3) + "s";
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 8000);
  }

  // occasional encouragement even without adding tasks
  setInterval(createFloatingMessage, 7000);
</script>

</body>
</html>